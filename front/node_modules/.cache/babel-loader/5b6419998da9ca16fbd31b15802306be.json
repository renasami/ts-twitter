{"ast":null,"code":"import _slicedToArray from\"/Users/ren/myjlab/ts-twitter/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/ren/myjlab/ts-twitter/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ren/myjlab/ts-twitter/front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useState}from'react';import'./style.css';import axios from'axios';import{useHistory,Route,BrowserRouter as Router}from'react-router-dom';import Result from'../Result';import store from'../../store';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";axios.get('http://127.0.0.1:5000/test').then(function(response){return console.log(response.data);});axios.post('http://127.0.0.1:5000/users/?user_id=Fuck').then(function(response){return console.log(response.data);});var Submit=function Submit(){var his=useHistory();var submitTwitterAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(userId){_context.next=5;break;}setErr('you must type your user id');return _context.abrupt(\"return\");case 5:if(!(userId[0]!='@')){_context.next=8;break;}setErr('you must start with @');return _context.abrupt(\"return\");case 8:setErr('');console.log(userId);_context.next=12;return axios.post(\"http://127.0.0.1:5000/users/?user_id=\".concat(userId)).then(function(response){return setErr(response.data.user_id);});case 12:store.getState().userId=userId;console.log(store.getState());his.push(\"/Result\");case 15:case\"end\":return _context.stop();}}},_callee);}));return function submitTwitterAccount(){return _ref.apply(this,arguments);};}();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),err=_useState4[0],setErr=_useState4[1];var getValueId=function getValueId(e){setUserId(function(){return e.target.value;});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"home\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Enter Your Twitter account id\"}),/*#__PURE__*/_jsx(\"p\",{children:err}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userId,onChange:getValueId}),/*#__PURE__*/_jsx(\"button\",{onClick:submitTwitterAccount,className:\"good\",children:\"submit\"})]})});};var Home=function Home(){return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Home\",component:Submit}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Result\",component:Result})]});};export default Home;","map":{"version":3,"sources":["/Users/ren/myjlab/ts-twitter/front/src/components/Home/index.tsx"],"names":["React","useState","axios","useHistory","Route","BrowserRouter","Router","Result","store","get","then","response","console","log","data","post","Submit","his","submitTwitterAccount","userId","setErr","user_id","getState","push","setUserId","err","getValueId","e","target","value","Home"],"mappings":"wcAAA,MAAOA,CAAAA,KAAP,EAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,UAAR,CAAoBC,KAApB,CAA0BC,aAAa,GAAIC,CAAAA,MAA3C,KAAwD,kBAAxD,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,aAAlB,C,6IAEAN,KAAK,CAACO,GAAN,CAAU,4BAAV,EAAwCC,IAAxC,CAA6C,SAAAC,QAAQ,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,CAAJ,EAArD,EACAZ,KAAK,CAACa,IAAN,CAAW,2CAAX,EAAwDL,IAAxD,CAA6D,SAAAC,QAAQ,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB,CAAJ,EAArE,EAGA,GAAME,CAAAA,MAAiB,CAAG,QAApBA,CAAAA,MAAoB,EAAM,CAC5B,GAAMC,CAAAA,GAAG,CAAGd,UAAU,EAAtB,CACA,GAAMe,CAAAA,oBAAoB,0FAAG,sIACrBC,MADqB,yBAErBC,MAAM,CAAC,4BAAD,CAAN,CAFqB,6CAIfD,MAAM,CAAC,CAAD,CAAN,EAAa,GAJE,0BAKrBC,MAAM,CAAC,uBAAD,CAAN,CALqB,wCAQzBA,MAAM,CAAC,EAAD,CAAN,CACAR,OAAO,CAACC,GAAR,CAAYM,MAAZ,EATyB,uBAUnBjB,CAAAA,KAAK,CAACa,IAAN,gDAAmDI,MAAnD,GACLT,IADK,CACA,SAAAC,QAAQ,QAAIS,CAAAA,MAAM,CAACT,QAAQ,CAACG,IAAT,CAAcO,OAAf,CAAV,EADR,CAVmB,SAYzBb,KAAK,CAACc,QAAN,GAAiBH,MAAjB,CAA0BA,MAA1B,CACAP,OAAO,CAACC,GAAR,CAAYL,KAAK,CAACc,QAAN,EAAZ,EACAL,GAAG,CAACM,IAAJ,CAAS,SAAT,EAdyB,uDAAH,kBAApBL,CAAAA,oBAAoB,0CAA1B,CAoBA,cAA6BjB,QAAQ,CAAC,EAAD,CAArC,wCAAOkB,MAAP,eAAeK,SAAf,eACA,eAAsBvB,QAAQ,CAAC,EAAD,CAA9B,yCAAOwB,GAAP,eAAYL,MAAZ,eACA,GAAMM,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,CAAD,CAAwC,CACvDH,SAAS,CAAC,iBAAMG,CAAAA,CAAC,CAACC,MAAF,CAASC,KAAf,EAAD,CAAT,CACH,CAFD,CAIA,mBACI,sCAII,aAAK,SAAS,CAAC,MAAf,wBACI,qDADJ,cAEI,mBAAKJ,GAAL,EAFJ,cAGI,cAAO,IAAI,CAAC,MAAZ,CAAmB,KAAK,CAAEN,MAA1B,CAAkC,QAAQ,CAAEO,UAA5C,EAHJ,cAII,eAAQ,OAAO,CAAER,oBAAjB,CAAuC,SAAS,CAAC,MAAjD,oBAJJ,GAJJ,EADJ,CAcH,CA1CD,CA2CA,GAAMY,CAAAA,IAAI,CAAE,QAANA,CAAAA,IAAM,EAAM,CACd,mBACI,MAAC,MAAD,yBACI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,OAAlB,CAA0B,SAAS,CAAEd,MAArC,EADJ,cAEI,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,SAAS,CAAET,MAAvC,EAFJ,GADJ,CAMH,CAPD,CAQA,cAAeuB,CAAAA,IAAf","sourcesContent":["import React, { FC, useState } from 'react';\nimport './style.css';\nimport axios from 'axios';\nimport {useHistory, Route,BrowserRouter as Router} from 'react-router-dom'\nimport Result from '../Result';\nimport store from '../../store';\n\naxios.get('http://127.0.0.1:5000/test').then(response => console.log(response.data))\naxios.post('http://127.0.0.1:5000/users/?user_id=Fuck').then(response => console.log(response.data))\n\n    \nconst Submit:  React.FC = () => {\n    const his = useHistory();\n    const submitTwitterAccount = async () => {\n        if(!userId){\n            setErr('you must type your user id');\n            return\n        }else if (userId[0] != '@'){\n            setErr('you must start with @');\n            return\n        }\n        setErr('')\n        console.log(userId);\n        await axios.post(`http://127.0.0.1:5000/users/?user_id=${userId}`)\n        .then(response => setErr(response.data.user_id))\n        store.getState().userId = userId\n        console.log(store.getState())\n        his.push(\"/Result\")\n        \n    }\n\n \n\n    const [userId, setUserId]  = useState('');\n    const [err ,setErr] = useState('')\n    const getValueId = (e: { target: { value: string; }; }) => {\n        setUserId(() => e.target.value)\n    }\n\n    return (\n        <>\n            {/* <div className=\"tweets\">\n                    <TweetsList />\n            </div> */}\n            <div className=\"home\">\n                <h1>Enter Your Twitter account id</h1>\n                <p>{ err }</p>\n                <input type=\"text\" value={userId} onChange={getValueId} />\n                <button onClick={submitTwitterAccount} className=\"good\">submit</button>\n            </div>\n            \n        </>\n    )\n}\nconst Home =() => {\n    return (\n        <Router>\n            <Route exact path=\"/Home\" component={Submit}/>\n            <Route exact path=\"/Result\" component={Result}/>\n        </Router>\n    )\n}\nexport default Home;"]},"metadata":{},"sourceType":"module"}